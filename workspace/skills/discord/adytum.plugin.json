{
  "id": "discord",
  "name": "Discord",
  "description": "Comprehensive Discord skill for inbound and outbound messaging.",
  "metadata": {
    "requires": {
      "env": ["ADYTUM_DISCORD_BOT_TOKEN", "ADYTUM_DISCORD_DEFAULT_CHANNEL_ID"]
    },
    "primaryEnv": "ADYTUM_DISCORD_BOT_TOKEN",
    "communication": true
  },
  "channels": ["discord"],
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "enabled": { "type": "boolean", "default": true },
      "botToken": { "type": "string" },
      "tokenEnv": { "type": "string", "default": "ADYTUM_DISCORD_BOT_TOKEN" },
      "defaultChannelId": { "type": "string" },
      "defaultChannelIdEnv": { "type": "string", "default": "ADYTUM_DISCORD_PERSONAL_CHANNEL_ID" },
      "guildId": { "type": "string" },
      "guildIdEnv": { "type": "string", "default": "ADYTUM_DISCORD_GUILD_ID" },
      "allowedChannelIds": {
        "type": "array",
        "items": { "type": "string" },
        "default": []
      },
      "allowedUserIds": {
        "type": "array",
        "items": { "type": "string" },
        "default": []
      },
      "allowDm": { "type": "boolean", "default": true },
      "listenIncoming": { "type": "boolean", "default": true },
      "respondToMentionsOnly": { "type": "boolean", "default": false },
      "includeAttachmentLinksInInbound": { "type": "boolean", "default": true },
      "outboundReplyPrefix": { "type": "string", "default": "" },
      "enableMessageContentIntent": { "type": "boolean", "default": true },
      "enableGuildMembersIntent": { "type": "boolean", "default": false },
      "actionPermissions": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "send_message": { "type": "boolean", "default": true },
          "read_messages": { "type": "boolean", "default": true },
          "fetch_message": { "type": "boolean", "default": true },
          "react": { "type": "boolean", "default": true },
          "create_poll": { "type": "boolean", "default": true },
          "create_thread": { "type": "boolean", "default": true },
          "reply_thread": { "type": "boolean", "default": true },
          "create_channel": { "type": "boolean", "default": true },
          "pin_message": { "type": "boolean", "default": true },
          "unpin_message": { "type": "boolean", "default": true },
          "list_channels": { "type": "boolean", "default": true },
          "list_guilds": { "type": "boolean", "default": true },
          "guild_info": { "type": "boolean", "default": true },
          "list_members": { "type": "boolean", "default": true }
        }
      }
    }
  },
  "metadata": {
    "communication": true
  },
  "uiHints": {
    "botToken": {
      "label": "Bot Token",
      "help": "Required. Paste your Discord bot token.",
      "sensitive": true
    },
    "tokenEnv": { "advanced": true },
    "defaultChannelId": {
      "label": "Default Channel ID",
      "help": "Used when a send action has no target channel."
    },
    "defaultChannelIdEnv": { "advanced": true },
    "guildId": { "advanced": true },
    "guildIdEnv": { "advanced": true },
    "allowedChannelIds": { "advanced": true },
    "allowedUserIds": { "advanced": true },
    "allowDm": { "advanced": true },
    "listenIncoming": { "advanced": true },
    "respondToMentionsOnly": { "advanced": true },
    "includeAttachmentLinksInInbound": { "advanced": true },
    "outboundReplyPrefix": { "advanced": true },
    "enableMessageContentIntent": { "advanced": true },
    "enableGuildMembersIntent": { "advanced": true },
    "actionPermissions": { "advanced": true },
    "actionPermissions.send_message": { "advanced": true },
    "actionPermissions.read_messages": { "advanced": true },
    "actionPermissions.fetch_message": { "advanced": true },
    "actionPermissions.react": { "advanced": true },
    "actionPermissions.create_poll": { "advanced": true },
    "actionPermissions.create_thread": { "advanced": true },
    "actionPermissions.reply_thread": { "advanced": true },
    "actionPermissions.create_channel": { "advanced": true },
    "actionPermissions.pin_message": { "advanced": true },
    "actionPermissions.unpin_message": { "advanced": true },
    "actionPermissions.list_channels": { "advanced": true },
    "actionPermissions.list_guilds": { "advanced": true },
    "actionPermissions.guild_info": { "advanced": true },
    "actionPermissions.list_members": { "advanced": true }
  }
}
